---
layout: post
title: A new service for South African map data
date: 2015-07-24
excerpt: |
    We've just launched MapIt (mapit.code4sa.org), a free API that makes it easy to provide localised information and draw South African maps in websites.
extra_stylesheets:
    - http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css
extra_js:
    - http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js
---

# A new service for South African map data

## Cape Town, 24 July 2015
## By Greg Kempe
[@longhotsummer](https://twitter.com/longhotsummer)

We've just launched [MapIt (mapit.code4sa.org)](http://mapit.code4sa.org), a free API that makes it easy to provide localised information and draw South African maps in websites. MapIt replaces our old mapping API which has served us well but wasn't scaling.

Making data local is one of the best ways of making it useful and relevant. This principle is one of the key drivers behind projects like [Wazimap.co.za](http://wazimap.co.za), the [Cape Town Budget Project](http://capetownbudgetproject.org.za/) and [OpenByLaws.org.za](http://openbylaws.org.za/). In fact, MapIt powers the maps used in Wazimap.

## Local is lekker

To make data local you need to know **where your user is** and the **localise the data** for them. The [Code for SA MapIt API](http://mapit.code4sa.org/) helps you do this by:

* identifying what South African ward, municipality or province a user is in based on their latitude and longitude,
* providing boundary information for geographical areas in GeoJSON format,
* finding areas that touch, overlap or cover or intersect another area.

We'll be adding additional functionality over time.

## Using the API

The MapIt API is is a REST API that serves JSON, GeoJSON and KML data, and is documented at [mapit.code4sa.org](http://mapit.code4sa.org/). Here's a quick example of how you can use it.

1. Geographical areas in MapIt are identified using a **code type** and a **code**. MapIt contains province, municipality and ward boundaries from the [Municipal Demarcations Board](http://www.demarcation.org.za) which has a MapIt **code type** of ``MDB``.
2. The beautiful Kou-Kamma municipality in the Eastern Cape has been given the code ``EC109`` by the Demarcations Board.
3. Putting those two together, we have a code ``MDB:EC109`` which identifies the Kou-Kamma municipality.

Visiting <a href="http://mapit.code4sa.org/area/MDB:EC109.html" target="_blank">http://mapit.code4sa.org/area/MDB:EC109.html</a> gives an overview of the data that MapIt has for that area. We can also easily put the municipality on a map by asking MapIt for the geometry of the municipality in [GeoJSON](http://geojson.org/) format:

    http://mapit.code4sa.org/area/MDB:EC109.geojson

<p id="map-1" style="height: 200px"></p>

<script>
$(function() {
  var map = new L.Map("map-1", {
    scrollWheelZoom: true,
    zoomControl: true,
  });
  map.attributionControl.setPrefix('');
  var osm = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: 'Map Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    maxZoom: 18
  });
  map.addLayer(osm);

  var url = "http://mapit.code4sa.org/area/MDB:EC109.geojson?type=MN";

  $.getJSON(url).
    then(function(data) {
      var area = new L.GeoJSON(data);
      map.addLayer(area);
      map.fitBounds(area.getBounds());
    });
});
</script>

## Free to use

MapIt is free to use within reasonable usage limits (1 call per second in a rolling 3 minute period). Please provide a link back to [mapit.code4sa.org](http://mapit.code4sa.org/) if you use the service. If you'd like to use it more heavily please [get in touch](mailto:info@code4sa.org).

## Shoulders of giants

Our MapIt service is built on the great work done by [MySociety](https://www.mysociety.org/) in the UK. We've made a few changes to it, particularly to support Wazimap, and we're sending those back to MySociety to help improve MapIt globally.

Our original maps API **maps.code4sa.org** showed us how powerful and useful a service of this type can be. By retiring the old service and building on MySociety's MapIt platform, we can ensure that it scales to larger datasets and share in helping to make MapIt even better for everyone who uses it.
