<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Extraction</title>
        <meta name="keywords" content="">
        <meta name="description" content="">
        
        <meta property="og:title" content="">
        <meta property="og:type" content="website">
        <meta property="og:url" content="">
        <meta property="og:site_name" content="">
        <meta property="og:image" content="">
        <meta property="og:description" content="">
        <link rel="stylesheet" href="style.css"/>
    </head>
    <body>
        <div id="map"></div>
        <script src="d3.v3.js"></script>
        <script src="data.js"></script>
        <script>
            d3.xml('map.svg', function(xml) {
                var importedNode = document.importNode(xml.documentElement, true);
                var img = d3.selectAll('#map')[0][0].appendChild(importedNode.cloneNode(true));
                var map = d3.select('#map');
                var pointers = map.selectAll('.pointer');

                pointers.style('display', 'none');
                map.selectAll('.story-country').on('mouseover', function() {
                    var country = this.id;
                    var me = d3.select(this);
                    var pointer = map.select('#' + country + '_' + 'pointer');
                    var infobox = d3.select('#infobox');
                    pointers.style('display', 'none');
                    pointer.style('display', 'block');
                    infobox.select('#title').text(me.attr('data-name'));
                    if (data[country] != undefined) {
                        infobox.select('.body-text').text(data[country]['body']); 
                        infobox.select('image').attr('xlink:href', data[country]['image']);
                    }
                    
                }) 
            });
        </script>
    </body>
</html>

